<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to Install and Set Up PostgreSQL on Windows</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1, h2 {
            color: #333;
        }
        ol, ul {
            margin-bottom: 20px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 4px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>How to Install and Set Up PostgreSQL on Windows</h1>
    <p>This guide provides a step-by-step process to install and set up PostgreSQL on Windows. PostgreSQL is a powerful, open-source relational database system. We'll use the official installer from EnterpriseDB (EDB), which is recommended for Windows users.</p>

    <h2>Prerequisites</h2>
    <ul>
        <li>Windows 10 or later (64-bit recommended).</li>
        <li>Administrator privileges on your computer.</li>
        <li>At least 1 GB of RAM and 500 MB of free disk space (more for production use).</li>
        <li>An internet connection for downloading the installer.</li>
    </ul>

    <h2>Step 1: Download the PostgreSQL Installer</h2>
    <ol>
        <li>Visit the official PostgreSQL download page: <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank">EnterpriseDB PostgreSQL Downloads</a>.</li>
        <li>Select the latest stable version (e.g., PostgreSQL 16.x or newer) for Windows x86-64.</li>
        <li>Click the download link to get the installer (e.g., <code>postgresql-16.x-x-windows-x64.exe</code>).</li>
        <li>Wait for the download to complete (file size is around 200-300 MB).</li>
    </ol>

    <h2>Step 2: Run the Installer</h2>
    <ol>
        <li>Double-click the downloaded .exe file to start the installation wizard. If prompted by User Account Control (UAC), click "Yes" to allow changes.</li>
        <li>On the Welcome screen, click "Next".</li>
        <li>Specify the installation directory (default: <code>C:\Program Files\PostgreSQL\16</code>) and click "Next".</li>
        <li>Select components to install:
            <ul>
                <li>PostgreSQL Server (required).</li>
                <li>pgAdmin (GUI tool for management, recommended).</li>
                <li>Stack Builder (for additional tools, optional).</li>
                <li>Command Line Tools (recommended for psql).</li>
            </ul>
            Click "Next".
        </li>
        <li>Specify the data directory (default: <code>C:\Program Files\PostgreSQL\16\data</code>) and click "Next".</li>
        <li>Set a password for the superuser (postgres account). Choose a strong password and confirm it. Click "Next".</li>
        <li>Set the port number (default: 5432). If it's in use, choose another (e.g., 5433). Click "Next".</li>
        <li>Select the locale (default is usually fine). Click "Next".</li>
        <li>Review the pre-installation summary and click "Next" to begin installation.</li>
        <li>Wait for the installation to complete (may take a few minutes). If prompted, allow the installer to create the data cluster.</li>
        <li>Optionally, launch Stack Builder at the end to install add-ons (e.g., PostGIS). Click "Finish".</li>
    </ol>

    <h2>Step 3: Configure PostgreSQL</h2>
    <ol>
        <li>Add PostgreSQL bin directory to your system PATH (for easy command-line access):
            <ul>
                <li>Search for "Environment Variables" in Windows Search.</li>
                <li>Under System Variables, edit "Path" and add: <code>C:\Program Files\PostgreSQL\16\bin</code>.</li>
                <li>Restart your terminal or Command Prompt.</li>
            </ul>
        </li>
        <li>Start the PostgreSQL service if not running:
            <ul>
                <li>Open Services (search "services.msc").</li>
                <li>Find "postgresql-x64-16" and start it if stopped.</li>
            </ul>
        </li>
        <li>Configure pg_hba.conf for access (optional for local dev):
            <ul>
                <li>Edit <code>C:\Program Files\PostgreSQL\16\data\pg_hba.conf</code> (requires admin rights).</li>
                <li>Add lines like: <code>host all all 127.0.0.1/32 md5</code> for local connections.</li>
                <li>Restart the service.</li>
            </ul>
        </li>
    </ol>

    <h2>Step 4: Verify the Installation</h2>
    <ol>
        <li>Open Command Prompt or PowerShell.</li>
        <li>Run <code>psql -U postgres</code> (enter your superuser password when prompted).</li>
        <li>If connected, you'll see the psql prompt: <code>postgres=#</code>.</li>
        <li>Test by creating a database: <code>CREATE DATABASE testdb;</code></li>
        <li>List databases: <code>\l</code></li>
        <li>Exit: <code>\q</code></li>
        <li>Alternatively, open pgAdmin, connect to localhost:5432 with user "postgres" and your password, and browse the server.</li>
    </ol>

    <h2>Troubleshooting Tips</h2>
    <ul>
        <li>If port 5432 is in use: Change during install or edit <code>postgresql.conf</code>.</li>
        <li>Connection refused: Ensure the service is running and firewall allows port 5432.</li>
        <li>Password issues: Reset via pgAdmin or config files.</li>
        <li>For Rust integration: Use crates like sqlx and set DATABASE_URL to <code>postgres://postgres:your_password@localhost:5432/your_db</code>.</li>
    </ul>

    <p>For more details, visit the official <a href="https://www.postgresql.org/docs/" target="_blank">PostgreSQL Documentation</a>.</p>
</body>
</html>